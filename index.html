<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Aggregate Functions by varunraiko</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Aggregate Functions</h1>
      <h2 class="project-tagline">MariaDB server is a community developed fork of MySQL server. Started by core members of the original MySQL team, MariaDB actively works with outside developers to deliver the most featureful, stable, and sanely licensed open SQL server in the industry.</h2>
      <a href="https://github.com/varunraiko/aggregate-functions" class="btn">View on GitHub</a>
      <a href="https://github.com/varunraiko/aggregate-functions/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/varunraiko/aggregate-functions/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h2>
<a id="introduction" class="anchor" href="#introduction" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Introduction</h2>

<p>Most of the current databases like Oracle, PostgreSQL, HSQL support the notion of CREATING AGGREGATE FUNCTIONS . This notion is missing from MariaDB, so this project deals with creating the support for aggregate functions for MariaDB. To incorporate the support for the aggregate stored functions first we had to form the syntax for these functions and then a design plan on how we are going to implement these functions. </p>

<h2>
<a id="work-done" class="anchor" href="#work-done" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Work Done</h2>

<h3>
<a id="adding-the-syntax-to-the-parser" class="anchor" href="#adding-the-syntax-to-the-parser" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Adding the syntax to the parser</h3>

<ul>
<li>
<p>Added the AGGREGATE keyword to the parser, so as to support the new syntax for creating aggregate functions. A test has been written to check that the parser parses the AGGREGATE keyword correctly</p>

<p><a href="https://github.com/MariaDB/server/commit/b3577bcdbb9cd4c269a57cadc62ac04dd42f0ca4">Link to the test</a></p>
</li>
<li><p>Added an agg_type field to the sp_chistics.</p></li>
</ul>

<p>link:</p>

<ul>
<li><p>Added the FETCH GROUP NEXT ROW instruction: This instruction is exclusive for aggregate functions.This instruction is added to make
a temporary exit from the function execution. After the temporary exit is made the values are set to the parameters of the function
and then the function resumes execution.</p></li>
<li><p>Alter and show Aggregate functions:
The create query should store if the function is an aggregate function or not in the aggregate
field of the mysql.proc table.
Alter query should allow user to change the aggregate field of the mysql.proc table.</p></li>
</ul>

<h3>
<a id="added-the-implementation-of-the-item_sum_sp-class" class="anchor" href="#added-the-implementation-of-the-item_sum_sp-class" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Added the implementation of the item_sum_sp class</h3>

<p>1) Item_sum_sp class inherited from Item_sum
2) Add function
3) val_xxxx</p>

<h3>
<a id="adding-the-execution-of-aggregate-functions" class="anchor" href="#adding-the-execution-of-aggregate-functions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Adding the execution of aggregate functions</h3>

<p>1)sp_head::execute_aggregate_function
2) sp_head::execute_agg</p>

<h3>
<a id="approach-taken" class="anchor" href="#approach-taken" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Approach taken</h3>

<p>1) Cursor approach</p>

<h3>
<a id="testing" class="anchor" href="#testing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Testing</h3>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/varunraiko/aggregate-functions">Aggregate Functions</a> is maintained by <a href="https://github.com/varunraiko">varunraiko</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
